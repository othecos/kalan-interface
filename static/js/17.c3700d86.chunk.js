(this["webpackJsonp@kalan/interface"]=this["webpackJsonp@kalan/interface"]||[]).push([[17],{1648:function(e,a,t){"use strict";a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},1921:function(e,a){},1964:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(51),c=t(41),o=t(326),i=t(474),m=t(126),s=t(1581),u=t(1600),d=t(1605),p=t(1566),f=t(1635),b=t(1607),E=t(35),g=t(28),h=t(1565),y=t(472),v=t(152),x=t(1796),j=t.n(x),O=t(1797),k=t.n(O),w=t(1800),N=t.n(w),S=t(1799),C=t.n(S),I=t(1740),R=t.n(I),z=t(1795),D=t.n(z),M=t(1794),q=t.n(M),A=t(1798),W=t.n(A),G=t(1741),P=t.n(G),B={all:q.a,inbox:D.a,trash:j.a,drafts:k.a,spam:W.a,sent:C.a,starred:R.a,important:P.a};var L=Object(o.a)((function(e){return{root:{padding:0},content:{flexGrow:1,height:36,color:e.palette.text.secondary,borderTopRightRadius:18,borderBottomRightRadius:18,paddingRight:18,paddingLeft:32,fontWeight:e.typography.fontWeightRegular,"&:hover":{backgroundColor:e.palette.action.hover}},active:{fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.action.selected},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(1,0)},icon:{marginRight:e.spacing(1)},text:{fontWeight:"inherit",flexGrow:1}}}));var Y=function(e){var a=e.label,t=Object(E.a)(e,["label"]),n=L(),r=function(e){return"system_label"===e.type?B[e.id]:N.a}(a),c=function(e){return"system_label"===e.type?"".concat("/app/mail","/").concat(e.id):"custom_label"===e.type?"".concat("/app/mail","/label/").concat(e.name):"/app/mail"}(a),o=function(e){return"custom_label"===e.type?e.color:null}(a),i=Boolean(a.unreadCount&&a.unreadCount>0);return l.a.createElement(h.a,Object.assign({className:n.root},t),l.a.createElement(y.a,{activeClassName:n.active,component:g.c,to:c,className:n.content},l.a.createElement(r,{className:n.icon,color:"inherit",style:{color:o}}),l.a.createElement(v.a,{className:n.text,variant:"body2"},a.name),i&&l.a.createElement(v.a,{color:"inherit",variant:"caption"},a.unreadCount)))},U=Object(o.a)((function(){return{drawerDesktopRoot:{width:280,flexShrink:0},drawerDesktopPaper:{position:"relative"},drawerMobilePaper:{position:"relative",width:280},drawerMobileBackdrop:{position:"absolute"}}}));var F=function(e){var a=e.containerRef,t=U(),o=Object(c.b)(),i=Object(r.h)(),E=Object(c.c)((function(e){return e.mail})),g=E.labels,h=E.sidebarOpen;Object(n.useEffect)((function(){h&&o(Object(m.i)())}),[i.pathname]);var y=l.a.createElement("div",null,l.a.createElement(s.a,{px:3,py:2},l.a.createElement(u.a,{color:"secondary",fullWidth:!0,variant:"contained",onClick:function(){o(Object(m.m)())}},"Compose")),l.a.createElement(d.a,null),l.a.createElement(s.a,{py:2,pr:2},l.a.createElement(p.a,null,g.map((function(e){return l.a.createElement(Y,{key:e.id,label:e})})))));return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{smDown:!0},l.a.createElement(b.a,{variant:"permanent",classes:{root:t.drawerDesktopRoot,paper:t.drawerDesktopPaper}},y)),l.a.createElement(f.a,{mdUp:!0},l.a.createElement(b.a,{variant:"temporary",open:h,onClose:function(){o(Object(m.i)())},classes:{paper:t.drawerMobilePaper},style:{position:"absolute",zIndex:1200},BackdropProps:{classes:{root:t.drawerMobileBackdrop}},ModalProps:{container:function(){return a.current}}},y)))},T=t(61),_=t(29),H=t(4),J=t(1573),$=t(324),K=t(1682),Q=t(334),V=t(845),X=t(1609),Z=t(1801),ee=t.n(Z),ae=t(1650),te=t.n(ae),ne=t(1742),le=t.n(ne),re=t(1743),ce=t.n(re),oe=t(1628),ie=t(1617),me=Object(o.a)((function(e){return{root:{backgroundColor:e.palette.background.default,padding:e.spacing(2),height:68,display:"flex",alignItems:"center"},searchInput:{marginLeft:e.spacing(2),flexGrow:1}}}));function se(e){var a=e.className,t=e.mails,n=e.onDeselectAll,r=e.onSelectAll,o=e.selectedMails,i=Object(E.a)(e,["className","mails","onDeselectAll","onSelectAll","selectedMails"]),u=me(),d=Object(c.b)(),p=o===t&&t>0,b=o>0&&o<t;return l.a.createElement("div",Object.assign({className:Object(H.a)(u.root,a)},i),l.a.createElement(f.a,{mdUp:!0},l.a.createElement(J.a,{onClick:function(){d(Object(m.n)())}},l.a.createElement($.a,{fontSize:"small"},l.a.createElement(oe.a,null)))),l.a.createElement(f.a,{smDown:!0},l.a.createElement(s.a,{display:"flex",alignItems:"center"},l.a.createElement(K.a,{checked:p,className:u.checkbox,indeterminate:b,onChange:function(e){return e.target.checked?r():n()}}),l.a.createElement(v.a,{variant:"h6",color:"textPrimary"},"Select all")),l.a.createElement(s.a,{flexGrow:1}),l.a.createElement(Q.a,{component:s.a,display:"flex",alignItems:"center",variant:"outlined",py:.5,px:1},l.a.createElement($.a,{color:"action",fontSize:"small"},l.a.createElement(ie.a,null)),l.a.createElement(V.a,{className:u.searchInput,disableUnderline:!0,placeholder:"Search mail"})),l.a.createElement(X.a,{title:"Refresh"},l.a.createElement(J.a,null,l.a.createElement(ee.a,{fontSize:"small"}))),l.a.createElement(X.a,{title:"More options"},l.a.createElement(J.a,null,l.a.createElement(te.a,{fontSize:"small"}))),l.a.createElement(s.a,{display:"flex",alignItems:"center"},l.a.createElement(X.a,{title:"Next page"},l.a.createElement(J.a,null,l.a.createElement(le.a,{fontSize:"small"}))),t>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{noWrap:!0,variant:"body2",color:"textSecondary"},"1 -"," ",t," ","of"," ",t),l.a.createElement(X.a,{title:"Previous page"},l.a.createElement(J.a,null,l.a.createElement(ce.a,{fontSize:"small"})))))))}se.defualtProps={onDeselectAll:function(){},onSelectAll:function(){}};var ue=se,de=t(82),pe=t(3),fe=t.n(pe),be=t(10),Ee=t(1637),ge=t(1802),he=t.n(ge),ye=t(1803),ve=t.n(ye),xe=t(1648);var je=Object(o.a)((function(e){return{root:{backgroundColor:e.palette.background.default,padding:e.spacing(2),borderBottom:"1px solid ".concat(e.palette.divider),display:"flex",alignItems:"center","&:hover":{backgroundColor:e.palette.action.hover}},unread:{position:"relative","&:before":{content:'" "',height:"100%",position:"absolute",left:0,top:0,width:4,backgroundColor:e.palette.error.main},"& $name, & $subject":{fontWeight:e.typography.fontWeightBold}},selected:{backgroundColor:e.palette.action.selected},filterActive:{color:be.a.amber[400]},content:{cursor:"pointer",textDecoration:"none"},details:Object(de.a)({},e.breakpoints.up("md"),{display:"flex",alignItems:"center",flexGrow:1}),name:Object(de.a)({},e.breakpoints.up("md"),{minWidth:180,flexBasis:180}),subject:{maxWidth:400,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},message:{maxWidth:800,flexGrow:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"auto"},label:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),color:e.palette.common.white,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:2,"& + &":{marginLeft:e.spacing(1)}},date:{whiteSpace:"nowrap"}}}));var Oe=function(e){var a,t=e.className,n=e.mail,o=e.onDeselect,i=e.onSelect,m=e.selected,u=Object(E.a)(e,["className","mail","onDeselect","onSelect","selected"]),d=je(),p=Object(r.i)(),b=Object(c.c)((function(e){return e.mail})).labels,h=function(e,a){var t=e.systemLabel,n=e.customLabel,l="/app/support/mail";return t?"".concat(l,"/").concat(t,"/").concat(a):n?"".concat(l,"/label/").concat(n,"/").concat(a):l}(p,n.id);return l.a.createElement("div",Object.assign({className:Object(H.a)(d.root,(a={},Object(de.a)(a,d.unread,!n.isUnread),Object(de.a)(a,d.selected,m),a),t)},u),l.a.createElement(f.a,{smDown:!0},l.a.createElement(s.a,{mr:1,display:"flex",alignItems:"center"},l.a.createElement(K.a,{checked:m,onChange:function(e){return e.target.checked?i():o()}}),l.a.createElement(X.a,{title:"Starred"},l.a.createElement(J.a,{onClick:function(){}},n.isStarred?l.a.createElement(R.a,{className:d.filterActive}):l.a.createElement(he.a,null))),l.a.createElement(X.a,{title:"Important"},l.a.createElement(J.a,{onClick:function(){}},n.isImportant?l.a.createElement(P.a,{className:d.filterActive}):l.a.createElement(ve.a,null))))),l.a.createElement(s.a,{minWidth:"1px",display:"flex",flexGrow:1,component:g.b,to:h,className:d.content},l.a.createElement(Ee.a,{src:n.from.avatar},Object(xe.a)(n.from.name)),l.a.createElement(s.a,{minWidth:"1px",ml:1,className:d.details},l.a.createElement(v.a,{variant:"body2",color:"textPrimary",className:d.name},n.from.name),l.a.createElement(v.a,{variant:"body2",color:"textSecondary",className:d.subject},n.subject),l.a.createElement(f.a,{smDown:!0},l.a.createElement(v.a,{variant:"body2",color:"textSecondary",className:d.message},l.a.createElement(s.a,{component:"span",ml:2},"-"),n.message),n.labelIds.length>0&&l.a.createElement(s.a,{display:"flex",mx:2},n.labelIds.map((function(e){var a=b.find((function(a){return a.id===e}));return a?l.a.createElement("span",{style:{backgroundColor:a.color},key:a.id,className:d.label},a.name):null})))),l.a.createElement(v.a,{className:d.date,color:"textSecondary",variant:"caption"},fe()(n.createdAt).format("DD MMM YYYY")))))},ke=Object(o.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",backgroundColor:e.palette.background.dark}}}));var we=function(){var e=ke(),a=Object(r.i)(),t=Object(c.b)(),o=Object(c.c)((function(e){return e.mail})).mails,i=Object(n.useState)([]),s=Object(_.a)(i,2),u=s[0],p=s[1];return Object(n.useEffect)((function(){t(Object(m.l)(a))}),[t,a]),l.a.createElement("div",{className:e.root},l.a.createElement(ue,{onDeselectAll:function(){p([])},onSelectAll:function(){p(o.map((function(e){return e.id})))},selectedMails:u.length,mails:o.allIds.length}),l.a.createElement(d.a,null),o.allIds.map((function(e){return l.a.createElement(Oe,{mail:o.byId[e],key:e,onDeselect:function(){return function(e){p((function(a){return a.filter((function(a){return a!==e}))}))}(e)},onSelect:function(){return function(e){p((function(a){return a.includes(e)?a:[].concat(Object(T.a)(a),[e])}))}(e)},selected:u.includes(e)})})))},Ne=t(56),Se=t(1804),Ce=t.n(Se),Ie=t(1599),Re=t(1931),ze=t.n(Re),De=t(1932),Me=t.n(De),qe=t(1933),Ae=t.n(qe),We=t(1930),Ge=t.n(We),Pe=t(1700),Be=t.n(Pe),Le=Object(o.a)((function(e){return{root:{backgroundColor:e.palette.background.default,padding:e.spacing(2),height:68,flexShrink:0,display:"flex",alignItems:"center"},searchInput:{marginLeft:e.spacing(2),flexGrow:1}}}));var Ye=function(e){var a=e.className,t=Object(E.a)(e,["className"]),n=Le(),c=Object(r.g)(),o=Object(r.i)(),i=o.systemLabel,m=o.customLabel;return l.a.createElement("div",Object.assign({className:Object(H.a)(n.root,a)},t),l.a.createElement(X.a,{title:"Back"},l.a.createElement(J.a,{onClick:function(){return i?c.push("/app/mail/".concat(i)):m?c.push("/app/mail/label/".concat(m)):c.push("/app/mail/inbox")}},l.a.createElement(Ge.a,{fontSize:"small"}))),l.a.createElement(s.a,{flexGrow:1}),l.a.createElement(f.a,{mdDown:!0},l.a.createElement(Q.a,{component:s.a,display:"flex",alignItems:"center",variant:"outlined",py:.5,px:1,mr:2},l.a.createElement(Be.a,{color:"action"}),l.a.createElement(V.a,{className:n.searchInput,disableUnderline:!0,placeholder:"Search message"}))),l.a.createElement(X.a,{title:"Previous mail"},l.a.createElement(J.a,null,l.a.createElement(le.a,{fontSize:"small"}))),l.a.createElement(X.a,{title:"Next mail"},l.a.createElement(J.a,null,l.a.createElement(ce.a,{fontSize:"small"}))))},Ue=t(1574),Fe=t(1678),Te=t.n(Fe),_e=t(1677),He=t.n(_e),Je=Object(o.a)((function(e){return{root:{padding:e.spacing(3),display:"flex"},avatar:{marginRight:e.spacing(2)},textarea:Object(Ne.a)({},e.typography.body1,{backgroundColor:e.palette.background.default,color:e.palette.text.primary,border:"none",outline:"none",resize:"none",width:"100%"}),action:{marginRight:e.spacing(1)},fileInput:{display:"none"}}}));var $e=function(e){var a=e.className,t=Object(E.a)(e,["className"]),r=Je(),o=Object(c.c)((function(e){return e.account})).user,i=Object(n.useRef)(null),m=Object(n.useState)(""),d=Object(_.a)(m,2),p=d[0],f=d[1],b=function(){i.current.click()};return l.a.createElement("div",Object.assign({className:Object(H.a)(r.root,a)},t),l.a.createElement(Ee.a,{alt:"Person",className:r.avatar,src:null===o||void 0===o?void 0:o.avatar}),l.a.createElement(Q.a,{component:s.a,flexGrow:1,padding:2,variant:"outlined"},l.a.createElement(Ue.a,{className:r.textarea,onChange:function(e){e.persist(),f(e.target.value)},placeholder:"Leave a message",rows:3,value:p}),l.a.createElement(s.a,{display:"flex",alignItems:"center",mt:2},l.a.createElement(u.a,{color:"secondary",variant:"contained",className:r.action},"Send"),l.a.createElement(X.a,{title:"Attach image"},l.a.createElement(J.a,{size:"small",className:r.action,onClick:b},l.a.createElement(He.a,null))),l.a.createElement(X.a,{title:"Attach file"},l.a.createElement(J.a,{size:"small",className:r.action,onClick:b},l.a.createElement(Te.a,null))))),l.a.createElement("input",{className:r.fileInput,ref:i,type:"file"}))},Ke=Object(o.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.default,display:"flex",height:"100%",flexDirection:"column",overflowY:"auto"},avatar:{height:56,width:56},date:{whiteSpace:"nowrap"},message:{color:e.palette.text.secondary,"& > p":Object(Ne.a)({},e.typography.body1,{marginBottom:e.spacing(2)})}}}));var Qe=function(){var e=Ke(),a=Object(r.i)().mailId,t=Object(c.b)(),o=Object(c.c)((function(e){return e.mail.mails.byId[a]}));return Object(n.useEffect)((function(){t(Object(m.k)(a))}),[t,a]),o?l.a.createElement("div",{className:e.root},l.a.createElement(Ye,null),l.a.createElement(d.a,null),l.a.createElement(s.a,{p:3,display:"flex",justifyContent:"space-between",flexShrink:0},l.a.createElement(s.a,{display:"flex",alignItems:"center"},l.a.createElement(Ee.a,{className:e.avatar,src:o.from.avatar},Object(xe.a)(o.from.name)),l.a.createElement(s.a,{ml:2},l.a.createElement(v.a,{display:"inline",variant:"h5",color:"textPrimary"},o.from.name)," ",l.a.createElement(Ie.a,{color:"textSecondary",display:"inline",variant:"body2"},o.from.email),l.a.createElement(v.a,{variant:"subtitle2",color:"textSecondary"},"To:"," ",o.to.map((function(e){return l.a.createElement(Ie.a,{color:"inherit",key:e.email},e.email)}))),l.a.createElement(v.a,{className:e.date,color:"textSecondary",variant:"caption"},fe()(o.createdAt).format("MMMM Do YYYY, h:mm:ss a")))),l.a.createElement(s.a,{display:"flex",alignItems:"center"},l.a.createElement(f.a,{smDown:!0},l.a.createElement(X.a,{title:"Reply"},l.a.createElement(J.a,null,l.a.createElement(ze.a,{fontSize:"small"}))),l.a.createElement(X.a,{title:"Reply all"},l.a.createElement(J.a,null,l.a.createElement(Me.a,{fontSize:"small"}))),l.a.createElement(X.a,{title:"Delete"},l.a.createElement(J.a,null,l.a.createElement(Ae.a,{fontSize:"small"})))),l.a.createElement(X.a,{title:"More options"},l.a.createElement(J.a,null,l.a.createElement(te.a,{fontSize:"small"}))))),l.a.createElement(d.a,null),l.a.createElement(s.a,{flexGrow:1,py:6,px:3,bgcolor:"background.dark"},l.a.createElement(v.a,{variant:"h1",color:"textPrimary"},o.subject),l.a.createElement(s.a,{mt:2},l.a.createElement(Ce.a,{source:o.message,className:e.message}))),l.a.createElement(d.a,null),l.a.createElement($e,null)):null},Ve=t(1564),Xe=t(1568),Ze=t(1959),ea=t(1960),aa=t(1961),ta=t(1934),na=t.n(ta),la=Object(o.a)((function(e){return{root:{"& .ql-toolbar":{borderLeft:"none",borderTop:"none",borderRight:"none",borderBottom:"1px solid ".concat(e.palette.divider),"& .ql-picker-label:hover":{color:e.palette.secondary.main},"& .ql-picker-label.ql-active":{color:e.palette.secondary.main},"& .ql-picker-item:hover":{color:e.palette.secondary.main},"& .ql-picker-item.ql-selected":{color:e.palette.secondary.main},"& button:hover":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button:focus":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button.ql-active":{"& .ql-stroke":{stroke:e.palette.secondary.main}},"& .ql-stroke":{stroke:e.palette.text.primary},"& .ql-picker":{color:e.palette.text.primary},"& .ql-picker-options":{padding:e.spacing(2),backgroundColor:e.palette.background.default,border:"none",boxShadow:e.shadows[10],borderRadius:e.shape.borderRadius}},"& .ql-container":{border:"none","& .ql-editor":{fontFamily:e.typography.fontFamily,fontSize:16,color:e.palette.text.primary,"&.ql-blank::before":{color:e.palette.text.secondary}}}},stepButton:{"& + &":{marginLeft:e.spacing(2)}}}}));var ra=function(e){var a=e.className,t=Object(E.a)(e,["className"]),n=la();return l.a.createElement(na.a,Object.assign({className:Object(H.a)(n.root,a)},t))},ca=Object(o.a)((function(e){return{root:{maxWidth:"calc(100% - ".concat(e.spacing(6),"px)"),maxHeight:"calc(100% - ".concat(e.spacing(6),"px)"),width:600,position:"fixed",bottom:0,right:0,margin:e.spacing(3),outline:"none",zIndex:2e3,display:"flex",flexDirection:"column",minHeight:500},fullScreen:{height:"100%",width:"100%"},input:{width:"100%"},editor:{flexGrow:1,"& .ql-editor":{minHeight:300}},action:{marginRight:e.spacing(1)}}}));var oa=function(){var e=ca(),a=Object(c.b)(),t=Object(c.c)((function(e){return e.mail})).newMessageOpen,r=Object(n.useState)(!1),o=Object(_.a)(r,2),i=o[0],p=o[1],f=Object(n.useState)(""),b=Object(_.a)(f,2),E=b[0],g=b[1];return t?l.a.createElement(Ve.a,null,l.a.createElement(Xe.a,{open:i}),l.a.createElement(Q.a,{className:Object(H.a)(e.root,Object(de.a)({},e.fullScreen,i)),elevation:12},l.a.createElement(s.a,{bgcolor:"background.dark",display:"flex",alignItems:"center",py:1,px:2},l.a.createElement(v.a,{variant:"h5",color:"textPrimary"},"New Message"),l.a.createElement(s.a,{flexGrow:1}),i?l.a.createElement(J.a,{onClick:function(){p(!1)}},l.a.createElement($.a,{fontSize:"small"},l.a.createElement(Ze.a,null))):l.a.createElement(J.a,{onClick:function(){p(!0)}},l.a.createElement($.a,{fontSize:"small"},l.a.createElement(ea.a,null))),l.a.createElement(J.a,{onClick:function(){a(Object(m.h)())}},l.a.createElement($.a,{fontSize:"small"},l.a.createElement(aa.a,null)))),l.a.createElement(s.a,{p:2},l.a.createElement(V.a,{className:e.input,disableUnderline:!0,placeholder:"To"}),l.a.createElement(V.a,{className:e.input,disableUnderline:!0,placeholder:"Subject"})),l.a.createElement(d.a,null),l.a.createElement(ra,{className:e.editor,onChange:function(e){g(e)},placeholder:"Leave a message",value:E}),l.a.createElement(d.a,null),l.a.createElement(s.a,{display:"flex",alignItems:"center",py:1,px:2},l.a.createElement(u.a,{color:"secondary",variant:"contained",className:e.action},"Send"),l.a.createElement(X.a,{title:"Attach image"},l.a.createElement(J.a,{size:"small",className:e.action},l.a.createElement(He.a,null))),l.a.createElement(X.a,{title:"Attach file"},l.a.createElement(J.a,{size:"small",className:e.action},l.a.createElement(Te.a,null)))))):null},ia=Object(o.a)((function(){return{root:{height:"100%",display:"flex",overflow:"hidden",position:"relative"}}}));a.default=function(){var e=ia(),a=Object(c.b)(),t=Object(r.i)().mailId,o=Object(n.useRef)(null);return Object(n.useEffect)((function(){a(Object(m.j)())}),[a]),l.a.createElement(i.a,{className:e.root,title:"Mail",ref:o},l.a.createElement(F,{containerRef:o}),t?l.a.createElement(Qe,null):l.a.createElement(we,null),l.a.createElement(oa,null))}}}]);
//# sourceMappingURL=17.c3700d86.chunk.js.map