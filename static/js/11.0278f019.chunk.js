(this["webpackJsonp@kalan/interface"]=this["webpackJsonp@kalan/interface"]||[]).push([[11],{1698:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1694),r=a(1695),i=function(){function e(){Object(n.a)(this,e),this.label="",this.key=""}return Object(r.a)(e,[{key:"setData",value:function(e){e&&(e.label&&(this.label=e.label),e.key&&(this.key=e.key))}},{key:"toJSON",value:function(){return{key:this.key,label:this.label}}}]),e}()},1702:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){return e.length>t?e.substring(0,t)+"...":e}},1703:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h}));var n=a(1694),r=a(1695),i=a(8),c=a(1702),l=a(1698),o=function(){function e(){Object(n.a)(this,e),this.href="",this.text=""}return Object(r.a)(e,[{key:"setDataFromDB",value:function(e){e&&(Object(i.isNull)(e.href)||(this.href=e.href),Object(i.isNull)(e.text)||(this.text=e.text))}},{key:"toJSON",value:function(){return{href:this.href,text:this.text}}}]),e}(),s=function(){function e(){Object(n.a)(this,e),this.score="",this.label=""}return Object(r.a)(e,[{key:"setDataFromDB",value:function(e){e&&(Object(i.isNull)(e.score)||(this.score=e.score),Object(i.isNull)(e.label)||(this.label=e.label))}},{key:"toJSON",value:function(){return{score:this.score,label:this.label}}}]),e}(),u=function(){function e(){Object(n.a)(this,e),this.sentiment=new s,this.text="",this.relevance=0,this.count=0}return Object(r.a)(e,[{key:"setDataFromDB",value:function(e){e&&(Object(i.isNull)(e.sentiment)||this.sentiment.setDataFromDB(e.sentiment),Object(i.isNull)(e.text)||(this.text=e.text),Object(i.isNull)(e.relevance)||(this.relevance=e.relevance),Object(i.isNull)(e.count)||(this.count=e.count))}},{key:"toJSON",value:function(){return{sentiment:this.sentiment.toJSON(),text:this.text,relevance:this.relevance,count:this.count}}}]),e}(),m=function(){function e(){Object(n.a)(this,e),this.datetime="",this.source="",this.query=""}return Object(r.a)(e,[{key:"setDataFromDB",value:function(e){e&&(Object(i.isNull)(e.datetime)||(this.datetime=e.datetime),Object(i.isNull)(e.source)||(this.source=e.source),Object(i.isNull)(e.query)||(this.query=e.query))}},{key:"toJSON",value:function(){return{datetime:this.datetime,source:this.source,query:this.query}}}]),e}(),d=function(){function e(){Object(n.a)(this,e),this.value=-2,this.label="N\xe3o analisado",this.terms=[],this.sector=new l.a,this.color="action",this.sector.setData({key:"bank",label:"Banc\xe1rio"})}return Object(r.a)(e,[{key:"setDataFromDB",value:function(e){if(e){if(!Object(i.isNull)(e.value))switch(this.value=e.value,this.value){case-2:this.color="action";break;case-1:this.color="error";break;case 0:this.color="secondary";break;case 1:this.color="success"}Object(i.isNull)(e.label)||(this.label=e.label),Object(i.isNull)(e.terms)||(this.terms=e.terms)}}},{key:"toJSON",value:function(){return{value:this.value,label:this.label,terms:this.terms,sector:this.sector.toJSON(),color:this.color}}}]),e}(),b=function(){function e(){Object(n.a)(this,e),this._id="",this.title=new o,this.resume="",this.metadata=new m,this.score=new d,this.keywords=[]}return Object(r.a)(e,[{key:"setDataFromDB",value:function(e){var t=this;e&&(Object(i.isNull)(e._id)||(this._id=e._id),Object(i.isNull)(e.resume)||(this.resume=e.resume),Object(i.isNull)(e.title)||this.title.setDataFromDB(e.title),Object(i.isNull)(e.metadata)||this.metadata.setDataFromDB(e.metadata),Object(i.isNull)(e.score)||this.score.setDataFromDB(e.score),!Object(i.isNull)(e.keywords)&&Array.isArray(e.keywords)&&e.keywords.forEach((function(e){var a=new u;a.setDataFromDB(e),t.keywords.push(a)})))}},{key:"toListItem",value:function(){return{_id:this._id,title:this.title.toJSON(),metadata:this.metadata.toJSON(),resume:this.resume,score:this.score.toJSON()}}},{key:"toPreview",value:function(){return{_id:this._id,title:this.title.toJSON(),metadata:this.metadata.toJSON(),resume:this.resume,score:this.score.toJSON()}}},{key:"toDetail",value:function(){return{header:{title:Object(c.a)(this.title.text,30),score:this.score.toJSON()},article:{title:this.title.toJSON(),resume:this.resume},sentiments:{title:this.title.toJSON(),score:this.score.toJSON()},keywords:this.keywords.map((function(e){return e.toJSON()}))}}},{key:"toDetailPreview",value:function(){}}]),e}(),h=function(){function e(){Object(n.a)(this,e),this.colors=[],this.data=[],this.labels=[]}return Object(r.a)(e,[{key:"setDataFromDB",value:function(e){e&&(Object(i.isUndefined)(e.labels)||Object(i.isNull)(e.labels)||(this.labels=e.labels),Object(i.isUndefined)(e.data)||Object(i.isNull)(e.data)||(this.data=e.data),Object(i.isUndefined)(e.colors)||Object(i.isNull)(e.colors)||(this.colors=e.colors))}},{key:"toJSON",value:function(){return{title:"Sentimento da noticias",datasets:[{data:this.data.map((function(e){return e.toFixed(2)})),backgroundColor:this.colors}],labels:this.labels}}}]),e}()},1708:function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},1712:function(e,t,a){"use strict";var n=a(33),r=a.n(n),i=a(64),c=a(28),l=a(34),o=a(0),s=a.n(o),u=a(466),m=a(1561),d=a(240),b=a(467),h=a(1574),f=a(1774),v=a(44),p=a(481),O=[{key:"bank",label:"Setor Banc\xe1rio"}],j=Object(u.a)((function(e){return{root:{},actionIcon:{marginRight:e.spacing(1)}}}));t.a=function(e){e.className,Object(l.a)(e,["className"]);var t=Object(v.c)(),a=j(),n=Object(o.useRef)(null),u=Object(v.d)((function(e){return e.analysis})).sector,g=Object(o.useState)(!1),y=Object(c.a)(g,2),E=y[0],k=y[1];Object(o.useEffect)((function(){t(Object(p.b)(O[0]))}),[t]);var N=function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!1),e.next=3,t(Object(p.b)(a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{ref:n,onClick:function(){return k(!0)}},s.a.createElement(d.a,{fontSize:"small",className:a.actionIcon},s.a.createElement(f.a,null)),null===u||void 0===u?void 0:u.label),s.a.createElement(b.a,{anchorEl:n.current,onClose:function(){return k(!1)},open:E,PaperProps:{className:a.menu},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},O.map((function(e){return s.a.createElement(h.a,{key:e.key,onClick:function(){return N(e)}},e.label)}))))}},1786:function(e,t,a){"use strict";a.r(t);var n=a(33),r=a.n(n),i=a(64),c=a(28),l=a(34),o=a(0),s=a.n(o),u=a(466),m=a(1587),d=a(862),b=a(479),h=a(35),f=a(4),v=a(1588),p=a(1607),O=a(1578),j=a(129),g=a(1697),y=a.n(g),E=a(1712),k=Object(u.a)((function(e){return{root:{},actionIcon:{marginRight:e.spacing(1)}}}));var N=function(e){var t=e.className,a=Object(l.a)(e,["className"]),n=k();return s.a.createElement(v.a,Object.assign({alignItems:"center",container:!0,justify:"space-between",spacing:3,className:Object(f.a)(n.root,t)},a),s.a.createElement(v.a,{item:!0},s.a.createElement(p.a,{separator:s.a.createElement(y.a,{fontSize:"small"}),"aria-label":"breadcrumb"},s.a.createElement(O.a,{variant:"body1",color:"inherit",to:"/app",component:h.b},"An\xe1lises"),s.a.createElement(j.a,{variant:"body1",color:"textPrimary"},"Sentimentos")),s.a.createElement(j.a,{variant:"h3",color:"textPrimary"},"Veja as ultimas noticias")),s.a.createElement(v.a,{item:!0},s.a.createElement(E.a,null)))},x=a(61),w=a(1606),S=(a(474),a(1570));a(1613),a(1583),a(1611),a(1776),a(1561),a(467),a(1574),a(1760),Object(u.a)((function(e){return{root:{},menuItem:{padding:0},formControlLabel:{padding:e.spacing(.5,2),width:"100%",margin:0}}}));Object(u.a)((function(e){return{root:{},searchInput:{marginLeft:e.spacing(2)},chip:{margin:e.spacing(1)}}}));var D=a(1794),I=a(1782),J=a(1788),B=a(1777),C=a.n(B),F=(a(3),a(10)),_=(a(1612),a(1600),a(1575),a(853)),P=a(240);a(1793),a(1761),a(1762),a(1679),a(1708),Object(u.a)((function(e){return{root:{},media:{height:200,backgroundColor:e.palette.background.dark},likedButton:{color:F.a.red[600]},subscribersIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(1)}}}));var z=a(1678),A=a(1763),q=Object(u.a)((function(e){return{root:{},media:{height:200,backgroundColor:e.palette.background.dark},likedButton:{color:F.a.red[600]},subscribersIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(1)},tooltip:{overflow:"hidden",textOverflow:"ellipsis",height:"40px"}}}));var L=function(e){var t,a,n,r,i,u,m,b=e.article,p=e.className,g=Object(l.a)(e,["article","className"]),y=q(),E=Object(o.useState)(!1),k=Object(c.a)(E,2),N=(k[0],k[1],Object(o.useState)(0)),x=Object(c.a)(N,2);return x[0],x[1],s.a.createElement(w.a,Object.assign({className:Object(f.a)(y.root,p)},g),s.a.createElement(d.a,{p:3},s.a.createElement(d.a,{display:"flex",alignItems:"center",mt:2},s.a.createElement(d.a,{ml:2},s.a.createElement(O.a,{color:"textPrimary",component:h.b,to:"/app/sentiments/".concat(b._id),variant:"h5"},null===b||void 0===b||null===(t=b.title)||void 0===t?void 0:t.text),s.a.createElement(j.a,{variant:"body2",color:"textSecondary"},"por"," ",s.a.createElement(O.a,{color:"textPrimary",href:b.title.href,variant:"h6",target:"_blank"},null===b||void 0===b?void 0:b.metadata.source)," ","| Publicado"," ",null===b||void 0===b||null===(a=b.metadata)||void 0===a?void 0:a.datetime)))),s.a.createElement(d.a,{pb:2,px:3,color:"textSecondary"},s.a.createElement(j.a,{color:"textSecondary",variant:"body2"},null===b||void 0===b?void 0:b.resume)),s.a.createElement(d.a,{py:2,px:3},s.a.createElement(v.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},s.a.createElement(v.a,{item:!0},s.a.createElement(j.a,{variant:"h5",color:"textPrimary"},"Busca"),s.a.createElement(j.a,{variant:"body2",color:"textSecondary"},null===b||void 0===b||null===(n=b.metadata)||void 0===n?void 0:n.query)))),s.a.createElement(S.a,null),s.a.createElement(d.a,{py:2,pl:2,pr:3,display:"flex",alignItems:"center"},s.a.createElement(P.a,{fontSize:"small",color:null===b||void 0===b||null===(r=b.score)||void 0===r?void 0:r.color,className:y.subscribersIcon},s.a.createElement(z.a,null)),s.a.createElement(j.a,{variant:"subtitle2",color:"action"!=(null===b||void 0===b||null===(i=b.score)||void 0===i?void 0:i.color)?null===b||void 0===b||null===(u=b.score)||void 0===u?void 0:u.color:"initial"},null===b||void 0===b||null===(m=b.score)||void 0===m?void 0:m.label),s.a.createElement(d.a,{flexGrow:1}),s.a.createElement(_.a,{component:h.b,to:"/app/analysis/sentiments/".concat(b._id)},s.a.createElement(P.a,{fontSize:"small"},s.a.createElement(A.a,null)))))},R=a(1781),U=Object(u.a)((function(e){return{root:{},media:{height:200,backgroundColor:e.palette.background.dark},likedButton:{color:F.a.red[600]},subscribersIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(1)},tooltip:{overflow:"hidden",textOverflow:"ellipsis",height:"40px"},skeleton:{width:"100%"}}}));var G=function(e){var t=e.className,a=Object(l.a)(e,["className"]),n=U();return s.a.createElement(w.a,Object.assign({className:Object(f.a)(n.root,t)},a),s.a.createElement(d.a,{p:3},s.a.createElement(R.a,{animation:"wave"},s.a.createElement(d.a,{display:"flex",alignItems:"center",mt:2})),s.a.createElement(R.a,{animation:"wave"},s.a.createElement(d.a,{display:"flex",alignItems:"center",mt:2})),s.a.createElement(R.a,{animation:"wave"},s.a.createElement(d.a,{display:"flex",alignItems:"center",mt:2}))),s.a.createElement(d.a,{pb:2,px:3,color:"textSecondary"},s.a.createElement(j.a,{color:"textSecondary",variant:"body2"},s.a.createElement(R.a,{variant:"rect",height:118}))),s.a.createElement(d.a,{py:2,px:3},s.a.createElement(v.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},s.a.createElement(v.a,{item:!0},s.a.createElement(j.a,{variant:"body2",color:"textSecondary"},s.a.createElement(R.a,{width:100,className:n.skeleton,animation:"wave"}))))),s.a.createElement(S.a,null),s.a.createElement(d.a,{py:2,pl:2,pr:3,display:"flex",alignItems:"center"},s.a.createElement(R.a,{variant:"circle",width:20,height:20,animation:"wave"}),s.a.createElement(R.a,{variant:"circle",width:20,height:20,animation:"wave"}),s.a.createElement(d.a,{flexGrow:1}),s.a.createElement(_.a,{href:"#"},s.a.createElement(P.a,{fontSize:"small"},s.a.createElement(A.a,null)))))},T=Object(u.a)((function(e){return{root:{},title:{position:"relative","&:after":{position:"absolute",bottom:-8,left:0,content:'" "',height:3,width:48,backgroundColor:e.palette.primary.main}},sortButton:{textTransform:"none",letterSpacing:0,marginRight:e.spacing(2)}}}));var V=function(e){var t=e.className,a=e.articles,n=Object(l.a)(e,["className","articles"]),r=T(),i=Object(x.a)(Array(10).keys()),u=Object(o.useState)("grid"),m=Object(c.a)(u,2),b=m[0],h=m[1],p=Object(o.useState)(10),O=Object(c.a)(p,2),g=O[0],y=O[1],E=Object(o.useState)([]),k=Object(c.a)(E,2),N=k[0],w=k[1];return Object(o.useEffect)((function(){a&&(w(a.slice(0,10)),y(Math.round(a.length/10)))}),[a]),s.a.createElement("div",Object.assign({className:Object(f.a)(r.root,t)},n),s.a.createElement(d.a,{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",mb:2},s.a.createElement(j.a,{className:r.title,variant:"h5",color:"textPrimary"},"Visualizando"," ",null===a||void 0===a?void 0:a.length," ","noticias"),s.a.createElement(d.a,{display:"flex",alignItems:"center"},s.a.createElement(D.a,{exclusive:!0,onChange:function(e,t){h(t)},size:"small",value:b},s.a.createElement(I.a,{value:"grid"},s.a.createElement(C.a,null))))),s.a.createElement(v.a,{container:!0,spacing:3},a&&N.map((function(e){return s.a.createElement(v.a,{item:!0,key:e._id,md:"grid"===b?4:12,sm:"grid"===b?6:12,xs:12},s.a.createElement(L,{article:e}))})),!a&&i.map((function(e,t){return s.a.createElement(v.a,{item:!0,key:"Skeleton_".concat(t),md:"grid"===b?4:12,sm:"grid"===b?6:12,xs:12},s.a.createElement(G,null))}))),s.a.createElement(d.a,{mt:6,display:"flex",justifyContent:"center"},s.a.createElement(J.a,{onChange:function(e,t){var n=10*(t-1),r=n+10;w(a.slice(n,r))},count:g})))},W=a(480),H=a(1703),M=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(e){e.className,Object(l.a)(e,["className"]);var t=Object(o.useState)(null),a=Object(c.a)(t,2),n=a[0],u=a[1];Object(o.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/analysis/news/");case 3:if(!(t=e.sent).data||!Array.isArray(t.data)){e.next=9;break}a=t.data.map((function(e){var t=new H.a;return t.setDataFromDB(e),t.toListItem()})),u(a),e.next=10;break;case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.response&&(console.error("Error response:"),console.error(e.t0.response),console.error(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status),console.error(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.headers));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var h=M();return s.a.createElement(b.a,{className:h.root,title:"Analise de sentimentos"},s.a.createElement(m.a,{maxWidth:"lg"},s.a.createElement(N,null),s.a.createElement(d.a,{mt:6},s.a.createElement(V,{articles:n}))))}}}]);
//# sourceMappingURL=11.0278f019.chunk.js.map